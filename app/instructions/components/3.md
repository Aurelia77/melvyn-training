# Les styles

Dans ce module on va voir les différents moyen de gérer les styles dans une application React.

Pour ça, on va créer un composants typique : **un badge** !

## Partie 1 : Inline style

Les inline style en React ressemble à ceci :

```jsx
<div style={{ backgroundColor: "red" }}></div>
```

- [Documentation de l'ancienne doc](https://legacy.reactjs.org/docs/dom-elements.html#style)

Les clés des styles, `backgroundColor` ici ne sont pas choisis au hasard. Ce sont [les noms JavaScript](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) de chaque style !

## Partie 2 : global className

Dans le projet tu trouveras un fichier `globals.css` que tu peux rechercher en faisant `CMD + P` puis en tapant `globals.css`.

Afin d'avoir un code "plus clean" et éviter d'ajouter tous nos styles en inline, on va utiliser des classes CSS.

Tu vas pouvoir créer 6 classes :

- `badge`
- `badge-size-default`
- `badge-size-large`
- `badge-color-red`
- `badge-color-green`
- `badge-color-purple`

Puis déplacer les styles "inline" fait dans le composant `Badge` dans le fichier `globals.css` avec ces noms de classes.

Tu vas aussi pouvoir modifier les constantes `VARIANTS` pour utiliser le nom de la classes puis les ajouter dans le composant `Badge` dans `className` !

## Partie 3 : CSS Module

Les [CSS Module](https://nextjs.org/docs/app/building-your-application/styling/css-modules#css-modules) sont "built-in" dans de nombreux framework et permettent de créer des modules CSS limité à un composant.

Le problème des styles globaux fait précédemment est qu'ils sont global et vont donc potentiellement interferer avec d'autre style.

Si un jour tu créer un class `badge` dans un autre composant, tu vas avoir les styles du badge.

Or tu veux que les styles de ce badge n'existe QUE dans le composant `Badge`.

C'est pour ça que le CSS Module existe.

Pour les créer, il suffit de créer un fichier suffixé par `.module.css` et d'importer le fichier dans le composant.

1. Créer un fichier `3.module.css`

```css
// 3.module.css

.badge {
  ...;
}
```

2. Importer le fichier dans le composant

```jsx
// 3.js
import styles from "./3.module.css";
```

3. Utiliser les styles

```jsx
// 3.js
<div className={styles.badge}></div>
```

Tu vois qu'ici la clé `.badge` vient se transformer en `styles.badge`. On verra dans la vidéo solution ce qui se produit en réalité.

Tu peux donc refactor les styles en les déplaçant du fichier `globals.css` vers un fichier `3.module.css` et les importer dans le composant `Badge`.

## Partie 4 : Emotion CSS

[Emotion](https://emotion.sh/docs/introduction) est une librairie CSS-in-JS qui permet de créer des styles dynamiquement.

Je déconseille d'utiliser Emotion pour des projets en 2024 et si tu souhaites utiliser une soluiton bien meilleur je te recommande [PandaCSS](https://panda-css.com/) mais... PandaCSS demande énormement de configuration là ou [Emotion] n'en demande aucune.

C'est pour ça qu'on va utiliser Emotion !

Le but d'`Emotion` est de créer des composants directemnt dans ton JSX et il va s'occuper de transofrmer ça en CSS lors du build time.

Pour ça on va utiliser la function `styled` d'Emotion.

```jsx
import styled from "@emotion/styled";

const Badge = styled.div`
  background-color: red;
`;
```

De cette manière on aura un composant `Badge` qui aura un style `background-color: red`.

Pour nos variants, on va pouvoir utiliser des props.

```jsx
const Badge = styled.div`
  background-color: ${(props) => props.color};
`;
```

Tu vas pouvoir récupérer l'object `VARIANTS` fait dans la solution `3.1.jsx` et l'utiliser de cette manière :

```jsx
const VARIANTS = {
  red: {
    background: "red",
  },
};

const Badge = styled.div`
  background-color: ${(props) =>
    VARIANTS[props.variant]?.background || VARIANTS.red.background};
`;
```

De cette manière tu vas avoir un composant `Badge` qui va prendre une prop `variant` et qui va appliquer le style en fonction de la prop.

Je te laisse un peu te débrouiller, la dernière étape sera la plus simple !

## Partie 5 : TailwindCSS

Enfin ! Tailwind vient nous sauver de l'enfer qu'on vit depuis avant.

Tailwind est déjà configurer dans l'application et je l'utilises depuis le début. On va utiliser Tailwind pour styliser notre Badge.

Tailwind est un système de utility class qui permet de créer des styles rapidement.

Par exemple pour la variants red il suffit d'ajouter la class `bg-red-500` pour avoir un background rouge.

Pour notre `Badge`, tu vas pouvoir utiliser les classes suivantes :

- `red` : `bg-red-500/15 text-red-700`
- `green` : `bg-green-500/15 text-green-700`
- `purple` : `bg-purple-500/15 text-purple-700`

Puis pour les sizes :

- `default` : `px-1.5 py-0.5`
- `lg` : `px-2 py-1`

Finalement les styles par défaut de notre badge sont : `inline-flex items-center rounded-md font-medium` !

Maintenant tu vas pouvoir utiliser `clsx` pour mixer les classes ensemble.

```jsx
import clsx from "clsx";

const Badge = ({ variant = "red", size = "lg" }) => (
  <div
    className={clsx("inline-flex items-center rounded-md font-medium", {
      "list de class default": size === "default",
      "list de class lg": size === "lg",
    })}
  ></div>
);
```

`clsx` permet de merger des classes ensemble. Quand on a un object, il faut ajouter uniquement les classes qui on une valeur à `true` !

je te laisse un peu t'amuser !
